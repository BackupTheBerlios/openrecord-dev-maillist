<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openrecord-dev] How does a user add a new row?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openrecord-dev/2005-May/index.html" >
   <LINK REL="made" HREF="mailto:openrecord-dev%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-dev%5D%20How%20does%20a%20user%20add%20a%20new%20row%3F&In-Reply-To=%3C200505192227.j4JMRFm17665%40bat.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000048.html">
   <LINK REL="Next"  HREF="000049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openrecord-dev] How does a user add a new row?</H1>
    <B>Brian Douglas Skinner</B> 
    <A HREF="mailto:openrecord-dev%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-dev%5D%20How%20does%20a%20user%20add%20a%20new%20row%3F&In-Reply-To=%3C200505192227.j4JMRFm17665%40bat.berlios.de%3E"
       TITLE="[openrecord-dev] How does a user add a new row?">brian.skinner at gumption.org
       </A><BR>
    <I>Fri May 20 00:28:00 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000048.html">[openrecord-dev] How does a user add a new row?
</A></li>
        <LI>Next message: <A HREF="000049.html">[openrecord-dev] Two cool PIM ajax apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55">[ date ]</a>
              <a href="thread.html#55">[ thread ]</a>
              <a href="subject.html#55">[ subject ]</a>
              <a href="author.html#55">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Chao,

&gt;<i> I'd like to throw up a suggestion for creating new 
</I>&gt;<i> rows, and perhaps more generally creating new items.
</I>
I made a method called &quot;newProvisionalItem()&quot;, which creates a new item that
can be used in a new blank row at the bottom of a table:

  var newItem = world.newProvisionalItem();

The &quot;provisional items&quot; should work just the way you described in your
proposal.  Let me know what you think of the name.  We can change it if
something else would be better: newBlankItem(), newTemplateItem(), etc. 

I tested it some, but not as much as I would have liked to, because we're
not yet really set up to test actions that make changes in the saved
repository.  We can talk more about that sometime when we're looking at our
unit tests.

:<i>o) Brian
</I>

 

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/openrecord-dev">openrecord-dev-admin at berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openrecord-dev">openrecord-dev-admin at berlios.de</A>] On Behalf Of Chih-Chao Lam
Sent: Monday, May 09, 2005 9:11 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openrecord-dev">openrecord-dev at berlios.de</A>
Subject: Re: [openrecord-dev] How does a user add a new row?

I'd like to throw up a suggestion for creating new rows, and perhaps  
more generally creating new items.

The problem is that I'd like each table cell to correspond to a  
specific item's attribute entry, the table cell then knows how to  
persist itself. This works pretty well now, except of course for the  
creation of new items. Some problems are:
     1) You need to create a new blank item every time a table is  
being edited
     2) You don't really want to save the blank item if it's really  
blank (what it does now)
     3) You don't want the blank item to be part of the sort list

What I think I'll like (but not completely crystallized) is an Item  
template or proxy. It acts like an item in most ways, when it is  
being queried in a read-only way, responding as an item would through  
the item API. However, it is not instantiated in the repository. Only  
when it is actually written (i.e. when it acquires a value or  
attribute), then it becomes a full-fledge Item object with a  
representation in the repository.

Does this make sense? Is it do-able in our repository? I think it's  
do-able in Javascript since it's a reasonably typeless language.

Thanks,
chao


On May 9, 2005, at 6:11 PM, Chih-Chao Lam wrote:

&gt;<i> Hi Mignon,
</I>&gt;<i>
</I>&gt;<i> Sorry, you can't add a new row to a table at this time. To get the  
</I>&gt;<i> sorting code in, I had to first refactor TablePlugin to be DOM  
</I>&gt;<i> Level-2 style. I removed the functionality to add a new row as part  
</I>&gt;<i> of that effort, because 1) sorting made it such that the &quot;last row&quot;  
</I>&gt;<i> wasn't necessarily the newly added row 2) there's were bugs in the  
</I>&gt;<i> old code anyway.
</I>&gt;<i>
</I>&gt;<i> I was hoping to wait till Brian gets back to discuss how to add the  
</I>&gt;<i> &quot;add new row&quot; functionality back. But now I see that you may be  
</I>&gt;<i> relying on that functionality (sorry!). If you are, I can try to  
</I>&gt;<i> add the functionality back in a maybe hacky way.
</I>&gt;<i>
</I>&gt;<i> chao
</I>&gt;<i>
</I>&gt;<i> On May 9, 2005, at 1:02 PM, Mignon Belongie wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Chao,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> After your last two updates of TablePlugin.js, how is a user  
</I>&gt;&gt;<i> supposed to add a new row to a table?  As of version 56, a new row  
</I>&gt;&gt;<i> appeared automatically in edit mode, but as of version 58, it  
</I>&gt;&gt;<i> doesn't.  I haven't yet figured out a way to compare two files on  
</I>&gt;&gt;<i> my iBook other than unix diff, so about all I can see is that  
</I>&gt;&gt;<i> there was a very large amount of code changed....
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Mignon
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000048.html">[openrecord-dev] How does a user add a new row?
</A></li>
	<LI>Next message: <A HREF="000049.html">[openrecord-dev] Two cool PIM ajax apps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55">[ date ]</a>
              <a href="thread.html#55">[ thread ]</a>
              <a href="subject.html#55">[ subject ]</a>
              <a href="author.html#55">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openrecord-dev">More information about the openrecord-dev
mailing list</a><br>
</body></html>
