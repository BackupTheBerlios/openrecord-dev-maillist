<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openrecord-dev] anchors and URLs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openrecord-dev/2005-August/index.html" >
   <LINK REL="made" HREF="mailto:openrecord-dev%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-dev%5D%20anchors%20and%20URLs&In-Reply-To=%3C200508050209.j7529PI30228%40bat.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000206.html">
   <LINK REL="Next"  HREF="000209.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openrecord-dev] anchors and URLs</H1>
    <B>Brian Douglas Skinner</B> 
    <A HREF="mailto:openrecord-dev%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-dev%5D%20anchors%20and%20URLs&In-Reply-To=%3C200508050209.j7529PI30228%40bat.berlios.de%3E"
       TITLE="[openrecord-dev] anchors and URLs">brian.skinner at gumption.org
       </A><BR>
    <I>Fri Aug  5 04:10:05 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000206.html">[openrecord-dev] new Year/Month date format
</A></li>
        <LI>Next message: <A HREF="000209.html">[openrecord-dev] scriptaculous slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#208">[ date ]</a>
              <a href="thread.html#208">[ thread ]</a>
              <a href="subject.html#208">[ subject ]</a>
              <a href="author.html#208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Chao,

I saw that you checked in new code to provide anchor links to each section
on a PageView.

Unfortunately, our code already uses anchors in the URLs in order to specify
a particular PageView within a document.  So, for example, in the dashboard
demo document:

  .../dashboard.html
     goes to the &quot;Intro&quot; page

  .../dashboard.html#page99e90d10-e990-11d9-b90a-e24829d2f59b
     goes to the &quot;Dashboard View&quot; page

If you click on new anchor link for the &quot;Later&quot; section, that changes the
existing URL, rather than just appending to it.  Clicking on the &quot;Later&quot;
link replaces the &quot;hash&quot; portion of the URL (everything from the # onward),
so the new URL becomes:

   .../dashboard.html#a1fbe7f0-f3d3-11d9-972b-e24829d2f59b

And that new URL isn't something that our URL parsing code knows what to do
with.  So, if you bookmark that URL and go back to it later, it fails to
take you back to the &quot;Later&quot; section of the &quot;Dashboard View&quot; page.  Instead
you just end up back at the main &quot;Intro&quot; page.

I'm not sure what the right thing to do is.  One solution might be to have
the new anchor links append to the existing URL instead of modifying it.
That way you would end up with a URL that encoded the document name
&quot;dashboard.html&quot;, the UUID of the page within the document, *and* the UUID
of the section within the page.  And then we would need to add some code to
our URL parser to figure out where to go when given a URL. 

Another alternative would be to implement the new anchor links without
making any changes to the URL.  When you clicked on an anchor link, we could
just execute some JavaScript to scroll the window to the right place all by
ourselves, without using the hash feature of the browser.  But then you
bookmark the URL, you'll get the URL for the page, not for the specific
section within the page.

:<i>o) Brian
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000206.html">[openrecord-dev] new Year/Month date format
</A></li>
	<LI>Next message: <A HREF="000209.html">[openrecord-dev] scriptaculous slowness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#208">[ date ]</a>
              <a href="thread.html#208">[ thread ]</a>
              <a href="subject.html#208">[ subject ]</a>
              <a href="author.html#208">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openrecord-dev">More information about the openrecord-dev
mailing list</a><br>
</body></html>
